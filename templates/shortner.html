{% extends "layout.html" %}
{% block content %}
<form action="/{{name}}" method="POST">
  {# This hidden_tag is a CSRF security feature. #}
  {{ form.hidden_tag() }}
  <div class="container text-center" style="width: 720px;">
    <br> <br> <br><br> <br>
    <div class="form-group">
      {{ form.urls(class="form-control",placeholder="Enter URL to shorten") }}<br>
    </div>
  </div>  
    <div class="container" style="width: 320px;"> {{ form.submit(class="btn btn-md btn-primary btn-block") }}</div>
        <div class="form-group">
        {% if mssg %}
        <script type="text/javascript">
          alert("Oops!! Error : {{ mssg }}")
        </script>
          <div class="alert alert-warning" style="margin-top: 4%;" role="alert">
            {{mssg}}
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          </div>
          {% endif %}   
          </div>
</form>
<br> <br>
<table class="table table-striped table-dark">
  <thead>
    <tr>
      <th scope="col">Shorten URLs</th>
      <th scope="col">Long URLs</th>
    </tr>
  </thead>
  <tbody>
    {% for document in hi %}
    <tr>
      <td><p class="lead"><a class="new1" target="_blank" style="margin-left: 2%;" href="{{ document['original'] }}" class="lead">{{ document['short'] }}</a></p></td>
      <td><p class="lead">{{ document['original'] }}</p></td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}